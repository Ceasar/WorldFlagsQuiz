(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{69:function(e,t,n){},71:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var i=n(2),s=n.n(i),c=n(60),r=n.n(c),o=(n(69),n(70),n(71),n(61)),a=n(40),u=n.n(a),l=n(29),d=n(64),j=n(38),b=n(39),h=n(28),m=n(45),f=n(4);function O(e){var t=e.answer,n=e.choices,i=e.selectedChoice,s=e.stem,c=e.onClickAnswer,r=null!==i;return Object(f.jsxs)("div",{className:"quiz-question",children:[Object(f.jsx)("div",{className:"quiz-question-stem",children:s}),Object(f.jsx)(m.a,{className:"quiz-answers",children:n.map((function(e){var n=null;return e===i&&(n="danger"),r&&e===t&&(n="success"),Object(f.jsx)(m.a.Item,{action:!r,variant:n,value:e,onClick:c,children:e},e)}))})]})}function p(e){var t=e.questionNumber,n=e.selectedChoice,i=e.score,s=e.totalQuestions,c=e.onClickNext,r=Object(b.a)(e,["questionNumber","selectedChoice","score","totalQuestions","onClickNext"]),o=null!==n;return Object(f.jsxs)("div",{className:"quiz",children:[Object(f.jsxs)("div",{className:"quiz-question-number",children:["Question: ",t+1," / ",s]}),Object(f.jsxs)("div",{children:["Score: ",i]}),Object(f.jsx)(O,Object(j.a)({selectedChoice:n},r)),Object(f.jsx)("div",{className:"quiz-continue",children:Object(f.jsx)(h.a,{disabled:!o,onClick:c,variant:"primary",children:"Next"})})]})}function C(e){var t=e.title,n=e.description,i=e.disabled,s=e.onClickStartQuiz;return Object(f.jsxs)("div",{className:"quiz",children:[Object(f.jsx)("h1",{children:t}),Object(f.jsx)("p",{children:n}),Object(f.jsx)(h.a,{disabled:i,onClick:s,children:"Start quiz"}),Object(f.jsx)("div",{id:"github-ribbon",children:Object(f.jsx)("a",{href:"https://github.com/Ceasar/WorldFlagsQuiz",children:Object(f.jsx)("img",{loading:"lazy",width:"149",height:"149",src:"https://github.blog/wp-content/uploads/2008/12/forkme_right_white_ffffff.png?resize=149%2C149",className:"attachment-full size-full",alt:"Fork me on GitHub","data-recalc-dims":"1"})})})]})}function x(e){var t=e.score,n=e.totalQuestions,i=e.onClickStartQuiz;return Object(f.jsxs)("div",{className:"quiz",children:[Object(f.jsx)("h1",{children:"Quiz Complete!"}),Object(f.jsxs)("p",{children:["Final Score: ",t," / ",n]}),Object(f.jsx)(h.a,{onClick:i,children:"Play again"})]})}function v(e){var t=e.description,n=e.isComplete,i=e.isStarted,s=e.score,c=e.title,r=e.totalQuestions,o=e.onClickStartQuiz,a=Object(b.a)(e,["description","isComplete","isStarted","score","title","totalQuestions","onClickStartQuiz"]);return i?n?Object(f.jsx)(x,{score:s,totalQuestions:r,onClickStartQuiz:o}):Object(f.jsx)(p,Object(j.a)({score:s,totalQuestions:r},a)):Object(f.jsx)(C,{title:c,description:t,disabled:0===r,onClickStartQuiz:o})}function z(e,t){switch(t.type){case"startQuiz":return 0;case"nextQuestion":return e+1;default:return e}}function Q(e,t){switch(t.type){case"startQuiz":return 0;case"chooseAnswer":return e+(t.isCorrect?1:0);default:return e}}function g(e,t){switch(t.type){case"startQuiz":case"nextQuestion":return null;case"chooseAnswer":return t.choice;default:return e}}function q(e,t){switch(t.type){case"startQuiz":return!0;default:return e}}function k(e,t){return{isStarted:q(e.isStarted,t),questionNumber:z(e.questionNumber,t),score:Q(e.score,t),selectedChoice:g(e.choice,t)}}var w,N={isStarted:!1,questionNumber:0,score:0,selectedChoice:null};function S(e){var t=e.description,n=e.questions,s=e.title,c=Object(i.useReducer)(k,N),r=Object(d.a)(c,2),o=r[0],a=r[1],u=Object(i.useMemo)((function(){return n[o.questionNumber]||{}}),[n,o.questionNumber]),l=Object(i.useCallback)((function(e){var t=e.target.value;a({choice:t,isCorrect:t===u.answer,type:"chooseAnswer"})}),[a,u]),j=Object(i.useCallback)((function(){a({type:"nextQuestion"})}),[a]),b=Object(i.useCallback)((function(){a({type:"startQuiz"})}),[a]);return Object(f.jsx)(v,{answer:u.answer,choices:u.choices,description:t,isComplete:o.questionNumber>=n.length,isStarted:o.isStarted,questionNumber:o.questionNumber,selectedChoice:o.selectedChoice,score:o.score,stem:u.stem,title:s,totalQuestions:n.length,onClickAnswer:l,onClickNext:j,onClickStartQuiz:b})}var y=new l.ApolloClient({cache:new l.InMemoryCache,uri:"https://countries.trevorblades.com"}),F=Object(l.gql)(w||(w=Object(o.a)(["\n  {\n    countries {\n      name\n      emoji\n    }\n  }\n"])));function A(){var e=Object(l.useQuery)(F,{client:y}),t=e.data,n=(e.loading,e.error),s=Object(i.useMemo)((function(){return t?(e=t.countries,n=4,u.a.shuffle(e).map((function(t){var i=t.name,s=u.a.sampleSize(e,n).map((function(e){return e.name})).filter((function(e){return e!==i})).slice(0,n-1),c=u.a.shuffle(s.concat(t.name)),r=t.emoji;return{answer:i,choices:c,stem:r}}))):[];var e,n}),[t]);return n?n.message:Object(f.jsx)(S,{description:"Test your knowledge of world flags.",questions:s,title:"World Flags Quiz"})}var I=function(){return Object(f.jsx)("div",{className:"App",children:Object(f.jsx)(A,{})})},M=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,81)).then((function(t){var n=t.getCLS,i=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),i(e),s(e),c(e),r(e)}))};r.a.render(Object(f.jsx)(s.a.StrictMode,{children:Object(f.jsx)(I,{})}),document.getElementById("root")),M()}},[[80,1,2]]]);
//# sourceMappingURL=main.db182991.chunk.js.map